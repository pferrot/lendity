<?xml version="1.0" encoding="UTF-8"?>
<faces-config version="1.2" 
 xmlns="http://java.sun.com/xml/ns/javaee"
 xmlns:xi="http://www.w3.org/2001/XInclude"
 xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
 xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-facesconfig_1_2.xsd"> 

	<application>		
		<!-- 
		Make it possible to access spring beans.
		 -->
		<variable-resolver>
			org.springframework.web.jsf.DelegatingVariableResolver 
		</variable-resolver>
		
		<view-handler>
			com.sun.facelets.FaceletViewHandler
		</view-handler>
		
		<resource-bundle>
			<base-name>messages</base-name>
			<var>messages</var>
		</resource-bundle>			 

		<locale-config>
			<default-locale>fr</default-locale>
			<supported-locale>en</supported-locale>
		</locale-config>

	</application>
	
<!--	<lifecycle>-->
<!--        <phase-listener>com.pferrot.lendity.listener.UTF8Listener</phase-listener>-->
<!--    </lifecycle>-->

<!--	<managed-bean>-->
<!--		<description>Registration Bean</description>-->
<!--		<managed-bean-name>registrationBean</managed-bean-name>-->
<!--		<managed-bean-class>com.pferrot.lendity.registration.jsf.RegistrationBean</managed-bean-class>-->
<!--		<managed-bean-scope>request</managed-bean-scope>-->
<!--		<managed-property>-->
<!--			<property-name>registrationService</property-name>-->
<!--			<value>#{registrationService}</value>-->
<!--		</managed-property>-->
		<!-- 
		<managed-property>
			<property-name>renderManager</property-name>
			<value>#{renderManager}</value>
		</managed-property>
		-->
<!--	</managed-bean>-->
	 
	<!-- 
	********************************************************************
	REGISTRATION
	********************************************************************
	-->
	<navigation-rule>
		<from-view-id>/public/registration/registration.jspx</from-view-id>
		<navigation-case>
			<from-outcome>success</from-outcome>
			<to-view-id>/public/registration/registration_2.jspx</to-view-id>
		</navigation-case>
	</navigation-rule>

	<navigation-rule>
		<from-view-id>/public/registration/registration_2.jspx</from-view-id>
		<navigation-case>
			<from-outcome>confirm</from-outcome>
			<to-view-id>/public/registration/registration_3.jspx</to-view-id>
		</navigation-case>
		<navigation-case>
			<from-outcome>back</from-outcome>
			<to-view-id>/public/registration/registration.jspx</to-view-id>
		</navigation-case>		
	</navigation-rule>
		
	<navigation-rule>
		<from-view-id>/public/registration/registration_3.jspx</from-view-id>
	</navigation-rule>
	
	<!-- 
	********************************************************************
	INVITE FRIENDS
	********************************************************************
	-->
	<navigation-rule>
		<from-view-id>/auth/invitation/inviteFriends.jspx</from-view-id>
		<navigation-case>
			<from-outcome>success</from-outcome>
			<to-view-id>/auth/invitation/inviteFriends_2.jspx</to-view-id>
		</navigation-case>
	</navigation-rule>

	<navigation-rule>
		<from-view-id>/auth/invitation/inviteFriends_2.jspx</from-view-id>
	</navigation-rule>
	
	<!-- 
	********************************************************************
	LOST PASSWORD
	********************************************************************
	-->
	<navigation-rule>
		<from-view-id>/public/lostpassword/lostpassword.jspx</from-view-id>
		<navigation-case>
			<from-outcome>success</from-outcome>
			<to-view-id>/public/lostpassword/lostpassword_2.jspx</to-view-id>
		</navigation-case>
	</navigation-rule>
		
	<navigation-rule>
		<from-view-id>/public/registration/lostpassword_2.jspx</from-view-id>
	</navigation-rule>
	
	<!-- 
	********************************************************************
	CHANGE PASSWORD
	********************************************************************
	-->
	<navigation-rule>
		<from-view-id>/auth/changepassword/changepassword.jspx</from-view-id>
	</navigation-rule>
	
	<!-- 
	********************************************************************
	LOGIN
	********************************************************************
	-->		
	<navigation-rule>
		<from-view-id>/login.jspx</from-view-id>
	</navigation-rule>	

	<!-- 
	********************************************************************
	INTERNAL ITEM OVERVIEW
	********************************************************************
	-->
	<navigation-rule>
		<from-view-id>/auth/item/internalItemOverview.jspx</from-view-id>
	</navigation-rule>
	
	<!-- 
	********************************************************************
	INTERNAL ITEM ADD
	********************************************************************
	-->	
	<navigation-rule>
		<from-view-id>/auth/item/internalItemAdd.jspx</from-view-id>			
	</navigation-rule>
	
	<!-- 
	********************************************************************
	INTERNAL ITEM EDIT
	********************************************************************
	-->	
	<navigation-rule>
		<from-view-id>/auth/item/internalItemEdit.jspx</from-view-id>			
	</navigation-rule>	
	
	<!-- 
	********************************************************************
	ITEMS LIST
	********************************************************************
	-->
	<navigation-rule>
		<from-view-id>/admin/item/itemsList.jspx</from-view-id>
		<navigation-case>
			<from-outcome>nextPage</from-outcome>
			<to-view-id>/admin/item/itemsList.jspx</to-view-id>
		</navigation-case>
		<navigation-case>
			<from-outcome>previousPage</from-outcome>
			<to-view-id>/admin/item/itemsList.jspx</to-view-id>
		</navigation-case>
		<navigation-case>
			<from-outcome>search</from-outcome>
			<to-view-id>/admin/item/itemsList.jspx</to-view-id>
		</navigation-case>
		<navigation-case>
			<from-outcome>clearSearch</from-outcome>
			<to-view-id>/admin/item/itemsList.jspx</to-view-id>
		</navigation-case>	
	</navigation-rule>
	
	<!-- 
	********************************************************************
	MY ITEMS LIST
	********************************************************************
	-->
	<navigation-rule>
		<from-view-id>/auth/item/myItemsList.jspx</from-view-id>
		<navigation-case>
			<from-outcome>firstPage</from-outcome>
			<to-view-id>/auth/item/myItemsList.jspx</to-view-id>
		</navigation-case>
		<navigation-case>
			<from-outcome>nextPage</from-outcome>
			<to-view-id>/auth/item/myItemsList.jspx</to-view-id>
		</navigation-case>
		<navigation-case>
			<from-outcome>previousPage</from-outcome>
			<to-view-id>/auth/item/myItemsList.jspx</to-view-id>
		</navigation-case>
		<navigation-case>
			<from-outcome>itemOverview</from-outcome>
			<to-view-id>/auth/item/itemOverview.jspx</to-view-id>
		</navigation-case>		
	</navigation-rule>	

	<!-- 
	********************************************************************
	MY BORROWED ITEMS LIST
	********************************************************************
	-->
	<navigation-rule>
		<from-view-id>/auth/item/myBorrowedItemsList.jspx</from-view-id>
		<navigation-case>
			<from-outcome>nextPage</from-outcome>
			<to-view-id>/auth/item/myBorrowedItemsList.jspx</to-view-id>
		</navigation-case>
		<navigation-case>
			<from-outcome>previousPage</from-outcome>
			<to-view-id>/auth/item/myBorrowedItemsList.jspx</to-view-id>
		</navigation-case>
		<navigation-case>
			<from-outcome>itemOverview</from-outcome>
			<to-view-id>/auth/item/itemOverview.jspx</to-view-id>
		</navigation-case>		
	</navigation-rule>		

	<!-- 
	********************************************************************
	MY CONNECTIONS ITEMS LIST
	********************************************************************
	-->
	<navigation-rule>
		<from-view-id>/auth/item/myConnectionsItemsList.jspx</from-view-id>
		<navigation-case>
			<from-outcome>nextPage</from-outcome>
			<to-view-id>/auth/item/myConnectionsItemsList.jspx</to-view-id>
		</navigation-case>
		<navigation-case>
			<from-outcome>previousPage</from-outcome>
			<to-view-id>/auth/item/myConnectionsItemsList.jspx</to-view-id>
		</navigation-case>
		<navigation-case>
			<from-outcome>itemOverview</from-outcome>
			<to-view-id>/auth/item/itemOverview.jspx</to-view-id>
		</navigation-case>		
	</navigation-rule>		

	<!-- 
	********************************************************************
	INTERNAL ITEM IMPORT
	********************************************************************
	-->
	<navigation-rule>
		<from-view-id>/auth/item/internalItemsImport.jspx</from-view-id>
		<navigation-case>
			<from-outcome>success</from-outcome>
			<to-view-id>/auth/item/internalItemsImport_2.jspx</to-view-id>
		</navigation-case>
	</navigation-rule>

	<navigation-rule>
		<from-view-id>/auth/item/internalItemsImport_2.jspx</from-view-id>
		<navigation-case>
			<from-outcome>confirm</from-outcome>
			<to-view-id>/auth/item/internalItemsImport_3.jspx</to-view-id>
		</navigation-case>
		<navigation-case>
			<from-outcome>back</from-outcome>
			<to-view-id>/auth/item/internalItemsImport.jspx</to-view-id>
		</navigation-case>		
	</navigation-rule>
		
	<navigation-rule>
		<from-view-id>/auth/item/internalItemsImport_3.jspx</from-view-id>
	</navigation-rule>
	
	<!-- 
	********************************************************************
	PERSONS LIST
	********************************************************************
	-->
	<navigation-rule>
		<from-view-id>/auth/person/personsList.jspx</from-view-id>
		<navigation-case>
			<from-outcome>personOverview</from-outcome>
			<to-view-id>/auth/person/personOverview.jspx</to-view-id>
		</navigation-case>
		<navigation-case>
			<from-outcome>nextPage</from-outcome>
			<to-view-id>/auth/person/personsList.jspx</to-view-id>
		</navigation-case>
		<navigation-case>
			<from-outcome>previousPage</from-outcome>
			<to-view-id>/auth/person/personsList.jspx</to-view-id>
		</navigation-case>
		<navigation-case>
			<from-outcome>requestConnection</from-outcome>
			<to-view-id>/auth/person/personsList.jspx</to-view-id>
		</navigation-case>
		<navigation-case>
			<from-outcome>search</from-outcome>
			<to-view-id>/auth/person/personsList.jspx</to-view-id>
		</navigation-case>
		<navigation-case>
			<from-outcome>clearSearch</from-outcome>
			<to-view-id>/auth/person/personsList.jspx</to-view-id>
		</navigation-case>			
	</navigation-rule>

	<!-- 
	********************************************************************
	MY CONNECTIONS LIST
	********************************************************************
	-->
	<navigation-rule>
		<from-view-id>/auth/person/myConnectionsList.jspx</from-view-id>
		<navigation-case>
			<from-outcome>personOverview</from-outcome>
			<to-view-id>/auth/person/personOverview.jspx</to-view-id>
		</navigation-case>
		<navigation-case>
			<from-outcome>nextPage</from-outcome>
			<to-view-id>/auth/person/myConnectionsList.jspx</to-view-id>
		</navigation-case>
		<navigation-case>
			<from-outcome>previousPage</from-outcome>
			<to-view-id>/auth/person/myConnectionsList.jspx</to-view-id>
		</navigation-case>
		<navigation-case>
			<from-outcome>requestConnection</from-outcome>
			<to-view-id>/auth/person/myConnectionsList.jspx</to-view-id>
		</navigation-case>
		<navigation-case>
			<from-outcome>search</from-outcome>
			<to-view-id>/auth/person/myConnectionsList.jspx</to-view-id>
		</navigation-case>
		<navigation-case>
			<from-outcome>clearSearch</from-outcome>
			<to-view-id>/auth/person/myConnectionsList.jspx</to-view-id>
		</navigation-case>			
	</navigation-rule>

	<!-- 
	********************************************************************
	MY BANNED PERSONS LIST
	********************************************************************
	-->
	<navigation-rule>
		<from-view-id>/auth/person/myBannedPersonsList.jspx</from-view-id>
		<navigation-case>
			<from-outcome>personOverview</from-outcome>
			<to-view-id>/auth/person/personOverview.jspx</to-view-id>
		</navigation-case>
		<navigation-case>
			<from-outcome>nextPage</from-outcome>
			<to-view-id>/auth/person/myBannedPersonsList.jspx</to-view-id>
		</navigation-case>
		<navigation-case>
			<from-outcome>previousPage</from-outcome>
			<to-view-id>/auth/person/myBannedPersonsList.jspx</to-view-id>
		</navigation-case>
		<navigation-case>
			<from-outcome>requestConnection</from-outcome>
			<to-view-id>/auth/person/myBannedPersonsList.jspx</to-view-id>
		</navigation-case>
		<navigation-case>
			<from-outcome>search</from-outcome>
			<to-view-id>/auth/person/myBannedPersonsList.jspx</to-view-id>
		</navigation-case>
		<navigation-case>
			<from-outcome>clearSearch</from-outcome>
			<to-view-id>/auth/person/myBannedPersonsList.jspx</to-view-id>
		</navigation-case>			
	</navigation-rule>

	<!-- 
	********************************************************************
	PERSON OVERVIEW
	********************************************************************
	-->
	<navigation-rule>
		<from-view-id>/auth/person/personOverview.jspx</from-view-id>
	</navigation-rule>

	<!-- 
	********************************************************************
	PERSON ADD
	********************************************************************
	-->	
	<!-- 
	<navigation-rule>
		<from-view-id>/auth/person/personAdd.jspx</from-view-id>	
		<navigation-case>
			<from-outcome>success</from-outcome>
			<to-view-id>/auth/person/personOverview.jspx</to-view-id>
		</navigation-case>
	</navigation-rule>
	-->
	 
	<!-- 
	********************************************************************
	PERSON EDIT
	********************************************************************
	-->
	<!-- 
	<navigation-rule>
		<from-view-id>/auth/person/personEdit.jspx</from-view-id>
		<navigation-case>
			<from-outcome>success</from-outcome>
			<to-view-id>/auth/person/personOverview.jspx</to-view-id>
		</navigation-case>
	</navigation-rule>
 	-->
 	
	<!-- 
	********************************************************************
	MY PENDING CONNECTION REQUESTS LIST
	********************************************************************
	-->
	<navigation-rule>
		<from-view-id>/auth/connectionrequest/myPendingConnectionRequestsList.jspx</from-view-id>
		<navigation-case>
			<from-outcome>connectionOverview</from-outcome>
			<to-view-id>/auth/person/personOverview.jspx</to-view-id>
		</navigation-case>
		<navigation-case>
			<from-outcome>requesterOverview</from-outcome>
			<to-view-id>/auth/person/personOverview.jspx</to-view-id>
		</navigation-case>
		<navigation-case>
			<from-outcome>nextPage</from-outcome>
			<to-view-id>/auth/person/personsList.jspx</to-view-id>
		</navigation-case>
		<navigation-case>
			<from-outcome>previousPage</from-outcome>
			<to-view-id>/auth/person/personsList.jspx</to-view-id>
		</navigation-case>		
	</navigation-rule>

    <!-- 
	********************************************************************
	VALIDATORS
	********************************************************************	
	 -->
	 <!-- 
    <validator>
        <validator-id>itemYearValidator</validator-id>
        <validator-class>com.pferrot.lendity.item.jsf.validator.ItemYearValidator</validator-class>
    </validator>
	 -->
</faces-config>